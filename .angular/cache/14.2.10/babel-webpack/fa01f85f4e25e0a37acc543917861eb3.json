{"ast":null,"code":"import { __decorate, __metadata } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { Transaction } from 'app/front/class/transaction';\nimport { TransactionService } from 'app/front/service/transaction.service';\nlet TransferComponent = class TransferComponent {\n  constructor(fb, transactionService) {\n    this.fb = fb;\n    this.transactionService = transactionService;\n    this.transactionForm = this.fb.group({\n      rib_emetteur: [''],\n      rib_recipient: [''],\n      amount: ['']\n    });\n    this.approveForm = this.fb.group({\n      code: ['']\n    });\n  }\n  ngOnInit() {}\n  onSubmit() {\n    const transaction = this.transactionForm.value;\n    this.transactionService.addTransactions(transaction).subscribe(code => {\n      console.log('Transaction code:', code);\n    }, error => {\n      console.error('An error occurred:', error);\n    });\n    this.handleModalShown();\n  }\n  /*oncode(){\r\n    this.transactionService.approvetransaction(transaction)\r\n  }*/\n  handleModalShown() {\n    const ribEmetteur = this.transactionForm.value.rib_emetteur;\n    const ribRecipient = this.transactionForm.value.rib_recipient;\n    const amount = this.transactionForm.value.amount;\n    // Assign the transaction data to the 'transactionData' variable in your component\n    this.transactionData = new Transaction();\n    this.transactionData.rib_emetteur = ribEmetteur;\n    this.transactionData.rib_recipient = ribRecipient;\n    this.transactionData.amount = amount;\n    // Call the 'approveTransaction' method in your component to send the transaction data to the backend\n    this.approveTransaction();\n  }\n  approveTransaction() {\n    this.transactionService.approvetransaction(this.transaction).subscribe(response => {\n      console.log(response);\n      // Handle the response from the backend here\n    }, error => {\n      console.log(error);\n      // Handle the error from the backend here\n    });\n  }\n};\n\nTransferComponent = __decorate([Component({\n  selector: 'app-transfer',\n  templateUrl: './transfer.component.html',\n  styleUrls: ['./transfer.component.css']\n}), __metadata(\"design:paramtypes\", [FormBuilder, TransactionService])], TransferComponent);\nexport { TransferComponent };","map":null,"metadata":{},"sourceType":"module"}